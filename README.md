# Hacker News 2.0

The objective of this capstone project was to create an improved version of Hacker News. This is the backend repository for the project. 

[Frontend is here](https://github.com/donnamagi/hn-front).

# Development Setup

This is a guide on how to set up and run this FastAPI project using Uvicorn (an ASGI server). 

## Prerequisites

Ensure you have the following installed:
- Python 3.10+
- pip (Python package installer)

## Installation

Follow these steps to get your development environment set up:

1. **Clone the Repository**

   Clone this repository to your local machine using `git clone`.

   ```
   git clone https://github.com/your-username/your-project-name.git
   ```

2. **Create a Virtual Environment**

   Navigate to the project directory and create a virtual environment.

   ```
   cd your-project-name
   python -m venv venv
   ```

3. **Activate the Virtual Environment**

   - On Windows:
     ```
     .\venv\Scripts\activate
     ```

   - On Unix or MacOS:
     ```
     source venv/bin/activate
     ```

4. **Install Dependencies**

   Install all the required packages using pip.

   ```
   pip install -r requirements.txt
   ```

## External dependencies

This project has external dependencies that need to be set up and configured in order to successfully run the code. All services are free to use (as of July 2024).

You might want to start by creating an `.env` file based on `.env.example`

### Zilliz - vector DB

This project setup heavily depends on a cloud vector database called [Zilliz](https://zilliz.com). Successfully running many of the scripts requires [setting up Zilliz](https://docs.zilliz.com/docs/quick-start) or reconfiguring for a different data storage method.

### PostgreSQL – relational DB

This code talks directly to a relational PostgreSQL database hosted on AWS RDS (a t3.micro instance, the free tier option).

Necessary setup on AWS is explained in [this setup guide](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_GettingStarted.CreatingConnecting.PostgreSQL.html#CHAP_GettingStarted.Connecting.PostgreSQL). After obtaining the necessary credentials from the AWS Console, set the values in `.env` and you should be good to go.

However – there are many other ways to work with a PostgreSQL database. **Using AWS as DB host is not required** as long as you configure the credentials correctly in `.env`

### Voyage - embeddings 

[Voyage AI](https://www.voyageai.com) was, at the time of this project, the industry leader in large text embeddings. I chose to integrate their API as part of my data preprocessing workflow. Setup instructions [here](https://docs.voyageai.com/docs/api-key-and-installation).

### Llama 3 - text synthesis

To clean and synthesize text coming from third party websites, I found [Llama 3-70B](https://llama.meta.com/llama3/), an open-source LLM, to work best. This could be handled with a third-party API, or a locally running model. 

**To run it locally:** Install Ollama ([instructions](https://github.com/ollama/ollama)), and sequentially [following this guide](https://ollama.com/library/llama3) for setting up Llama to run on a local port.

**To call an API**: Depending on your hardware and internet connection, this is most likely the faster option. [groq.com](https://groq.com) offers free API calls to the same Llama model with generous rate limits. 

### Sentry

As a way to monitor performance and catch production errors, this project has integrated [Sentry](https://sentry.io/welcome/). After getting your DSN from their setup, add it to the `.env`

## Running the Application

You can run the application using Uvicorn with the following command:

```
uvicorn app.main:app --reload  
```

## Accessing the Application

- Visit [http://localhost:8000](http://localhost:8000) in your web browser to access the backend.
- Access the automatic interactive API documentation generated by FastAPI at [http://localhost:8000/docs](http://localhost:8000/docs).
